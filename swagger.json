{
  "swagger" : "2.0",
  "info" : {
    "description" : "Especificación API de aplicación para banca en línea",
    "version" : "1.0.0",
    "title" : "Online Banking API 1.0",
    "contact" : {
      "email" : "info@ads2018.com"
    },
    "license" : {
      "name" : "Apache 2.0",
      "url" : "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "tags" : [ {
    "name" : "Account",
    "description" : "Cuentas bancarias"
  }, {
    "name" : "Customer",
    "description" : "Clientes"
  }, {
    "name" : "Banking Transactions",
    "description" : "Transacciones bancarias x"
  } ],
  "paths" : {
    "/api/customer" : {
      "post" : {
        "tags" : [ "Customer" ],
        "description" : "creación de cliente",
        "summary" : "Crear cliente",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "RequestCustomerDto",
          "description" : "DTO cliente",
          "schema" : {
            "$ref" : "#/definitions/RequestCustomerDTO"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Cliente creado",
            "schema" : {
              "$ref" : "#/definitions/ResponseOKDTO"
            }
          },
          "400" : {
            "description" : "Error controlado",
            "schema" : {
              "$ref" : "#/definitions/ResponseErrorDTO"
            }
          },
          "500" : {
            "description" : "Error no controlado",
            "schema" : {
              "$ref" : "#/definitions/ResponseErrorDTO"
            }
          }
        }
      },
      "put" : {
        "tags" : [ "Customer" ],
        "description" : "actualización de cliente",
        "summary" : "Actualizar cliente",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "RequestCustomerDto",
          "description" : "DTO cliente",
          "schema" : {
            "$ref" : "#/definitions/RequestCustomerDTO"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Cliente actualizado",
            "schema" : {
              "$ref" : "#/definitions/ResponseOKDTO"
            }
          },
          "400" : {
            "description" : "Error controlado",
            "schema" : {
              "$ref" : "#/definitions/ResponseErrorDTO"
            }
          },
          "500" : {
            "description" : "Error no controlado",
            "schema" : {
              "$ref" : "#/definitions/ResponseErrorDTO"
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "Customer" ],
        "summary" : "Desactivar cliente.",
        "description" : "Nunca se elimina un cliente",
        "parameters" : [ {
          "name" : "CustomerId",
          "in" : "path",
          "description" : "Customer ID a ser desactivado",
          "required" : true,
          "type" : "integer",
          "format" : "int64"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/api/transfers" : {
      "post" : {
        "tags" : [ "Banking Transactions" ],
        "summary" : "Transferencia bancaria de una cuenta a otra",
        "description" : "transferir dinero de una cuenta origen a una cuenta destino",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "RequestBankTransferDto",
          "description" : "DTO para la transferencia bancaria",
          "schema" : {
            "$ref" : "#/definitions/RequestBankTransferDto"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Transferencia bancaria exitosa",
            "schema" : {
              "$ref" : "#/definitions/ResponseOKDTO"
            }
          },
          "400" : {
            "description" : "Error controlado",
            "schema" : {
              "$ref" : "#/definitions/ResponseErrorDTO"
            }
          },
          "500" : {
            "description" : "Error no controlado",
            "schema" : {
              "$ref" : "#/definitions/ResponseErrorDTO"
            }
          }
        }
      }
    }
  },
  "definitions" : {
    "ResponseErrorDTO" : {
      "type" : "object",
      "properties" : {
        "httpStatus" : {
          "type" : "integer",
          "default" : 400
        },
        "errors" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/ApplicationMessage"
          },
          "minItems" : 1,
          "maxItems" : 100
        }
      }
    },
    "ResponseOKDTO" : {
      "type" : "object",
      "properties" : {
        "httpStatus" : {
          "type" : "integer",
          "default" : 201
        },
        "message" : {
          "type" : "string",
          "default" : "Transfer done!"
        }
      }
    },
    "ApplicationMessage" : {
      "type" : "object",
      "properties" : {
        "message" : {
          "type" : "string",
          "description" : "error message"
        }
      }
    },
    "RequestCustomerDTO" : {
      "type" : "object",
      "required" : [ "firstName", "lastName", "birthDate", "documentNumber", "isActive" ],
      "properties" : {
        "firstName" : {
          "type" : "string"
        },
        "lastName" : {
          "type" : "string"
        },
        "birthDate" : {
          "type" : "string",
          "format" : "date",
          "description" : "fecha de nacimiento"
        },
        "documentNumber" : {
          "type" : "string",
          "description" : "número de DNI"
        },
        "isActive" : {
          "type" : "string",
          "default" : true
        },
        "cellphone" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        }
      }
    },
    "RequestBankAccountDTO" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "integer",
          "format" : "int32"
        },
        "number" : {
          "type" : "string"
        },
        "balance" : {
          "type" : "number",
          "format" : "float"
        },
        "isLocked" : {
          "type" : "boolean"
        }
      }
    },
    "RequestBankTransferDto" : {
      "type" : "object",
      "required" : [ "fromAccountNumber", "toAccountNumber", "amount" ],
      "properties" : {
        "fromAccountNumber" : {
          "type" : "string",
          "description" : "cuenta origen",
          "example" : "123-456-001"
        },
        "toAccountNumber" : {
          "type" : "string",
          "description" : "cuenta destino",
          "example" : "123-456-002"
        },
        "amount" : {
          "type" : "number",
          "format" : "double",
          "example" : 100.0,
          "minimum" : 0,
          "maximum" : 1000,
          "description" : "monto de dinero a transferir en moneda local (soles peruanos), mayor a CERO y menor a 1000"
        }
      }
    }
  },
  "host" : "virtserver.swaggerhub.com",
  "basePath" : "/jhonatan.tirado/BankingApplication/1.0.0",
  "schemes" : [ "https" ]
}